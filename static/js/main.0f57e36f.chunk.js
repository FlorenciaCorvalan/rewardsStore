(this["webpackJsonpstore-bravo-florencia"]=this["webpackJsonpstore-bravo-florencia"]||[]).push([[0],{86:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(0),a=n.n(r),i=n(10),s=n.n(i),o=(n(86),n(14)),j=n(15),u=n(7),d=n(16);function l(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n"]);return l=function(){return e},e}var b=function(e){return Object(c.jsxs)(O,{children:[Object(c.jsx)("img",{src:e.img.url,alt:"Imagen del Producto"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:e.name}),Object(c.jsxs)("div",{id:"costR",children:[Object(c.jsx)("p",{id:"costt",children:"Cost: "}),e.cost,Object(c.jsx)("div",{id:"line"})]})]})]})},O=d.a.div(l()),h=n(22),x=n.n(h),p=n(43),f={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDE0YzQ0MDdlNzE4NzAwMjBlMzhlZWUiLCJpYXQiOjE2MTE5NzM2OTZ9.HjdXeC-ct5_9dcz1s1wBSktBWKpaGD8ymQoXMsyoxHU"},v=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:f,redirect:"follow"},e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/user/me",n);case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,t(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:f,redirect:"follow"},e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/products",n);case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,t(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(x.a.mark((function e(t,n,c){var r,a,i,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({amount:t}),a={method:"POST",headers:f,body:r,redirect:"follow"},e.prev=2,e.next=5,fetch("".concat("https://coding-challenge-api.aerolab.co","/user/points"),a);case 5:return i=e.sent,e.next=8,i.json();case 8:s=e.sent,(o=Object(j.a)({},n)).points=s["New Points"],c(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,c){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({productId:t}),c={method:"POST",headers:f,body:n,redirect:"follow"},e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/redeem",c);case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),console.log("error",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:f,redirect:"follow"},e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/user/history",n);case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,t(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),w=n.p+"static/media/header-x2.cc65119a.png";function S(){var e=Object(o.a)(["\n  width:100%;\n\n"]);return S=function(){return e},e}var k=function(){return Object(c.jsxs)(P,{children:[Object(c.jsx)("h1",{children:"Rewards Store"}),Object(c.jsx)("img",{src:w,alt:"Header Imagen",id:"headerImg"})]})},P=d.a.div(S());function E(){var e=Object(o.a)(["\n  text-align: center;\n  margin-left: 36%;\n"]);return E=function(){return e},e}function N(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){C(a)}),[]);var i=n.reverse();return Object(c.jsxs)("div",{children:[Object(c.jsx)(k,{}),Object(c.jsx)("h6",{id:"redeemeed",children:"REDEEMED HISTORY"}),Object(c.jsx)(I,{children:i.map((function(e){return Object(r.createElement)(b,Object(j.a)(Object(j.a)({},e),{},{key:e.createDate}))}))})]})}var I=d.a.div(E()),D=n(56),M=Object(r.createContext)(),T=function(e){var t=Object(r.useState)([{name:"",_id:"",cost:0,category:"",img:{hdUrl:"",url:""}}]),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){m(i)}),[]),Object(c.jsx)(M.Provider,{value:[a,i],children:e.children})},R=Object(r.createContext)(),H=function(e){var t=Object(r.useState)({category:"all categories",price:"all prices"}),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(c.jsx)(R.Provider,{value:[a,i],children:e.children})},z=Object(r.createContext)(),J=function(e){var t=Object(r.useState)({name:"",points:0}),n=Object(u.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){v(i)}),[]),Object(c.jsx)(z.Provider,{value:[a,i],children:e.children})},B=n.p+"static/media/buy-blue.c5c4f01c.svg",F=n.p+"static/media/buy-white.9b6e6567.svg",L=n.p+"static/media/coin.b8bc711d.svg",U=function(e){var t=e.productCost,n=e.userPoints,r=e.hover;return Object(c.jsx)("div",{id:"NeedMoney",children:function(e,t){if(t>e)return Object(c.jsxs)("div",{id:"NeedData",children:[Object(c.jsxs)("p",{children:["You need ",t-e]}),Object(c.jsx)("img",{src:L,alt:"moneda"})]});var n=r?F:B;return Object(c.jsx)("img",{src:n,alt:"bolsa de shopping",id:"shop"})}(n,t)})},A=n(132),G=n(96),_=n(126),Q=n.p+"static/media/OK_icon.048fdf9d.svg",X=n.p+"static/media/error.ed6a4996.svg",Y=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],i=n[1],s=e.productRedeem,o=e.userPoints,j=e.productCost,d=e.productId,l=e.success;return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{id:"now",onClick:function(){i(!0),s(d,j,o)},children:"Redeem now"}),Object(c.jsx)(A.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:a,className:"exito",onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:_.a,BackdropProps:{timeout:500},children:Object(c.jsx)(G.a,{in:a,children:Object(c.jsx)("div",{id:"modal",children:l?Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Successfully redeemed"}),Object(c.jsx)("img",{src:Q,alt:"ok",id:"ok"})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{id:"bad",children:'"Error, Try again"'}),Object(c.jsx)("img",{src:X,alt:"error, intentalo de nuevo",id:"error"})]})})})})]})},W=function(e){var t=e.userData,n=e.setUserData,a=e.userPoints,i=e.productCost,s=e.productId,o=Object(r.useState)(!1),d=Object(u.a)(o,2),l=d[0],b=d[1];return Object(c.jsxs)("div",{id:"HoverProducts",children:[Object(c.jsxs)("div",{id:"costData",children:[Object(c.jsx)("div",{id:"cost",children:i.toLocaleString("de-De")}),Object(c.jsx)("img",{src:L,alt:"moneda"})]}),a>=i&&Object(c.jsx)(Y,{productRedeem:function(e,c,r){var a=y(e),i=r-c;n(Object(j.a)(Object(j.a)({},t),{},{points:i})),b(a)},userPoints:a,productCost:i,productId:s,success:l})]})};function K(){var e=Object(o.a)(["\nmargin: 0.5rem;\npadding: 0.8rem;\nwidth: 70%;\nborder: 0.5px solid #e4e1e1;\nborder-radius: 5px;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nposition: relative;\nz-index: 5;\n"]);return K=function(){return e},e}var Z=function(e){var t=e.name,n=e.category,a=e.img,i=e.cost,s=e._id,o=Object(r.useContext)(z),j=Object(u.a)(o,2),d=j[0],l=j[1],b=d.points,O=Object(r.useState)(!1),h=Object(u.a)(O,2),x=h[0],p=h[1];return Object(c.jsxs)(V,{onMouseLeave:function(){return p(!1)},onMouseEnter:function(){return p(!0)},children:[x&&Object(c.jsx)(W,{userData:d,setUserData:l,userPoints:b,productCost:i,productId:s}),Object(c.jsx)(U,{productCost:i,userPoints:b,hover:x}),Object(c.jsx)("img",{src:a.url,alt:"imagen del producto"}),Object(c.jsxs)("div",{id:"dataProduct",children:[Object(c.jsx)("p",{children:n}),Object(c.jsx)("p",{children:t})]})]})},V=d.a.div(K()),q=n(37),$=n(130),ee=n(135),te=n(134),ne=n(129),ce=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useContext)(R),s=Object(u.a)(i,2),o=s[0],d=s[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(ne.a,{children:[Object(c.jsx)(te.a,{children:"Filter by price"}),Object(c.jsxs)($.a,{name:"price",value:o.price,onChange:function(e){var t=e.target,n=t.name,c=t.value,r=Object(j.a)(Object(j.a)({},o),{},Object(q.a)({},n,c));d(r)},onClose:function(){a(!1)},onOpen:function(){a(!0)},open:n,children:[Object(c.jsx)(ee.a,{value:"all prices",children:"Select price"}),Object(c.jsx)(ee.a,{value:"lowest",children:"Lowest"}),Object(c.jsx)(ee.a,{value:"highest",children:"Highest"})]})]}),Object(c.jsx)("hr",{})]})})},re=function(){var e=Object(r.useContext)(M),t=Object(u.a)(e,1)[0],n=Object(D.a)(new Set(t.map((function(e){return e.category})))).sort(),a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],d=Object(r.useContext)(R),l=Object(u.a)(d,2),b=l[0],O=l[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(ne.a,{children:[Object(c.jsx)(te.a,{children:"Filter by category"}),Object(c.jsxs)($.a,{name:"category",open:s,value:b.category,onChange:function(e){var t=e.target,n=t.name,c=t.value,r=Object(j.a)(Object(j.a)({},b),{},Object(q.a)({},n,c.toLowerCase()));O(r)},onClose:function(){o(!1)},onOpen:function(){o(!0)},children:[Object(c.jsx)(ee.a,{value:"all categories",children:"Select category"}),n.map((function(e){return Object(c.jsx)(ee.a,{value:e.toLowerCase(),children:e},e)}))]})]}),Object(c.jsx)("hr",{})]})})},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(r.useState)(1),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Math.ceil(e.length/t);function o(){var n=(a-1)*t,c=n+t;return e.slice(n,c)}function j(e){var t=Math.max(1,e);i((function(e){return Math.min(t,s)}))}return{jumpToPage:j,currentData:o,currentPage:a,maxPage:s}},ie=n(131);function se(){var e=Object(o.a)(["\n  margin-bottom: 25px;\n  margin-top:30px;\n"]);return se=function(){return e},e}function oe(){var e=Object(o.a)(["\n  margin-left: 5%;\n  margin-right: 5%;\n"]);return oe=function(){return e},e}function je(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 10px;\n\n  @media (max-width: 899px){\n    display: flex;\n    flex-direction: column;\n   \n  }\n"]);return je=function(){return e},e}function ue(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  margin-top: 10px;\n"]);return ue=function(){return e},e}function de(){var e=Object(r.useState)(1),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),s=Object(u.a)(i,2),o=s[0],d=s[1],l=Object(r.useContext)(M),b=Object(u.a)(l,1)[0],O=Object(r.useContext)(R),h=Object(u.a)(O,1)[0];function x(e){var t=e.category,n=h.category;return"all categories"===n||n===t.toLowerCase()}function p(e,t){return"lowest"===h.price?e.cost-t.cost:"highest"===h.price?t.cost-e.cost:0}Object(r.useEffect)((function(){d(Object(D.a)(b))}),[b]),Object(r.useEffect)((function(){!function(){var e=b.filter(x).sort(p);d(e)}()}),[h]);var f=Math.ceil(o.length/16),v=ae(o,16);function m(e,t){a(t),v.jumpToPage(t)}return Object(c.jsx)(Oe,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(le,{children:[Object(c.jsx)(ce,{}),Object(c.jsx)(re,{})]}),Object(c.jsxs)(he,{children:[Object(c.jsxs)("p",{className:"pages",children:["Page ",n," of ",f]}),Object(c.jsx)(ie.a,{count:f,variant:"outlined",page:n,onChange:m})]}),Object(c.jsx)(be,{children:v.currentData().map((function(e){return Object(r.createElement)(Z,Object(j.a)(Object(j.a)({},e),{},{key:e._id}))}))}),Object(c.jsxs)(he,{children:[Object(c.jsxs)("p",{className:"pages",children:["Page ",n," of ",f]}),Object(c.jsx)(ie.a,{count:f,variant:"outlined",page:n,onChange:m})]})]})})}var le=d.a.div(ue()),be=d.a.div(je()),Oe=d.a.div(oe()),he=d.a.div(se()),xe=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{}),Object(c.jsx)(de,{})]})},pe=n(42);function fe(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #4b4942;\n"]);return fe=function(){return e},e}function ve(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n  text-decoration: none;\n  font-weight: bold;\n"]);return ve=function(){return e},e}function me(){var e=Object(o.a)(['\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-family: "Roboto", sans-serif;\n  color: #4b4942;\n']);return me=function(){return e},e}function ge(){var e=Object(r.useContext)(z),t=Object(u.a)(e,1)[0];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(ye,{children:[Object(c.jsxs)(Ce,{children:[Object(c.jsx)("div",{className:"optionHeader",children:Object(c.jsx)(pe.b,{to:"/",children:Object(c.jsx)("div",{children:"Home"})})}),Object(c.jsx)("div",{className:"optionHeader",children:Object(c.jsx)(pe.b,{to:"/redeem-history",children:Object(c.jsx)("div",{children:"Redeem"})})}),Object(c.jsx)("div",{className:"optionHeader",children:Object(c.jsx)(pe.b,{to:"/add-coins",children:Object(c.jsx)("div",{children:"Add more COINS"})})})]}),Object(c.jsxs)(we,{children:[t.name,Object(c.jsxs)("div",{id:"userPoint",children:[Object(c.jsx)("p",{id:"userpoint",children:t.points}),Object(c.jsx)("img",{src:L,alt:"moneda"})]})]})]})})}var ye=d.a.div(me()),Ce=d.a.div(ve()),we=d.a.div(fe());function Se(){var e=Object(r.useContext)(z),t=Object(u.a)(e,2),n=t[0],a=t[1];function i(e){g(e,n,a)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"coins",children:"ADD MORE COINS"}),Object(c.jsxs)("div",{id:"getcoins",children:[Object(c.jsx)("button",{className:"button",onClick:function(){i(1e3)},children:"1000"}),Object(c.jsx)("button",{className:"button",onClick:function(){i(5e3)},children:"5000"}),Object(c.jsx)("button",{className:"button",onClick:function(){i(7e3)},children:"7500"})]})]})}var ke=n(11);n(94);var Pe=function(){return Object(c.jsx)(pe.a,{children:Object(c.jsx)(J,{children:Object(c.jsx)(T,{children:Object(c.jsxs)(H,{children:[Object(c.jsx)(ge,{}),Object(c.jsxs)(ke.c,{children:[Object(c.jsx)(ke.a,{exact:!0,path:"/",component:xe}),Object(c.jsx)(ke.a,{path:"/redeem-history",component:N}),Object(c.jsx)(ke.a,{exact:!0,path:"/add-coins",component:Se})]})]})})})})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Pe,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.0f57e36f.chunk.js.map